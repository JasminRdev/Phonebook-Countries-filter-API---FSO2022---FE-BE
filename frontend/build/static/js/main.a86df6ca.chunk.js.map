{"version":3,"sources":["component/CountryDetails.js","component/Country.js","component/People.js","component/Phonebook.js","service/person.js","component/Notification.js","App.js","index.js"],"names":["CountryDetails","country","results","console","log","languages","Object","values","map","language","name","common","capital","area","src","flags","png","Country","inputCountries","handleCountries","countries","filter","o","toLowerCase","includes","toLocaleLowerCase","eachResult","item","showSingleResult","someCountries","length","type","value","onChange","People","person","del","number","onClick","id","Phonebook","add","newName","handleChange","handleNumber","newNumber","persons","onSubmit","baseUrl","newObject","axios","post","then","response","data","errStyle","background","Notification","message","className","style","App","useState","setPersons","setNewName","setNewNumber","messageStatus","setNewMessageStatus","setInputCountries","setCountries","useEffect","get","res","window","confirm","delete","event","preventDefault","addPerson","personService","returnedPersons","setTimeout","concat","catch","error","userExists","some","nameCheck","check","alert","target","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.a86df6ca.chunk.js","sourcesContent":["const CountryDetails = ({results}) => {\r\n\r\n    const country = results[0]\r\n    console.log(country.languages)\r\n    const valuesOnly = Object.values(country.languages);\r\nconst languages = valuesOnly.map(language =>  <li>{language}</li>)\r\n    return (\r\n        <div>\r\n\r\n        <h1>{country.name.common}</h1>\r\n\r\n        <p> capital {country.capital}</p>\r\n        <p> area {country.area}</p>\r\n\r\n        <h3> languages: </h3>\r\n        <li>{languages}</li>\r\n       <br></br>\r\n        <img src={country.flags.png} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CountryDetails","\r\nimport CountryDetails from \"./CountryDetails\"\r\n\r\nconst Country = ({ inputCountries, handleCountries, countries  }) => {\r\n   \r\n    const results = countries.filter(o => o.name.common.toLowerCase().includes(inputCountries.toLocaleLowerCase()));\r\n \r\n        const eachResult = results.map(item => \r\n            <li key={item.name.common}>\r\n        {item.name.common}\r\n        </li>)\r\n\r\n        const textOfResult = \"Sorry to many matches. Please specify more.\"\r\n\r\n      const showSingleResult = <CountryDetails results={results} />\r\n     \r\n    \r\nconst someCountries = results.length < 11 ? eachResult : textOfResult\r\n\r\nconst a = true\r\n\r\nreturn(\r\n<div>\r\n<hr></hr>\r\n<p>find countries</p>\r\n<input type=\"text\" value={inputCountries} onChange={handleCountries}></input>\r\n<ul>\r\n\r\n{a ? someCountries : \"\"}\r\n\r\n{results.length === 1 ? showSingleResult : a}\r\n</ul>\r\n</div>\r\n)\r\n}\r\nexport default Country","\r\n\r\nconst People = ({ person, del}) => {\r\n\r\n\r\n\r\n  return (\r\n\r\n    <li key={person.id}>\r\n      {person.name} {person.number} \r\n      <button onClick={() => {del(person.id)}}>Delete</button>\r\n    </li> \r\n\r\n  );\r\n};\r\n\r\nexport default People;\r\n","import People from \"./People\";\r\n\r\nconst Phonebook = ({add, newName, handleChange, handleNumber, newNumber, persons, del }) => {\r\n    return(\r\n        <div>\r\n    <h2>Phonebook</h2>\r\n      \r\n    <h1> add a new </h1>\r\n    <form onSubmit={add}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        {\" \"}\r\n        number:\r\n        <input value={newNumber} onChange={handleNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    <h2>Numbers</h2>\r\n    <ul>\r\n      {persons.map((person) => (\r\n        <People del={del} key={person.id} person={person} />\r\n      ))}\r\n    </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Phonebook","import axios from 'axios';\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n   const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n   return request.then(response => response.data)\r\n}\r\n\r\n\r\n//dont know how to refactor :(\r\n\r\n// const deleted = (id) => {\r\n//     const request = axios.delete(`${baseUrl}/${id}`)\r\n//       return request.then(response => {\r\n//         if(response.data != null){\r\n//           console.log(\"Item deleted\")\r\n//           setPersons(persons.filter(o => o.id !== id));\r\n//         }\r\n//       });\r\n//   }\r\n  \r\n  export default { getAll, create, update }","\r\nconst errStyle = {\r\n    background: \"rgb(148, 49, 49)\"\r\n}\r\n\r\n\r\n\r\n\r\nconst Notification = ({ message}) => {\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n    if(message.includes(\"Success\")){\r\n        return (\r\n            <div className=\"error\">{message}</div>\r\n        )\r\n    }\r\n    if(message.includes(\"Error\")){\r\n        return (\r\n            <div style={errStyle}  className=\"error\">{message}</div>\r\n        )\r\n    }\r\n} \r\n\r\nexport default Notification","import {useState, useEffect} from \"react\"\nimport axios from 'axios'\nimport Country from './component/Country'\nimport Phonebook from './component/Phonebook'\nimport personService from './service/person'\nimport Notification from './component/Notification'\n\nimport './styles.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [messageStatus, setNewMessageStatus] = useState(null);\n\n\n  \n  const [inputCountries, setInputCountries] = useState(\"\");\n  const [countries, setCountries] = useState([]);\n\n\n /**\n  *  get with axios\n  */\n\nuseEffect(() => {\n    axios\n      .get('/api/persons')\n      .then(res => {\n        setPersons(res.data)\n      })\n  }, [])\n\n  useEffect(() => {\n    console.log('effect')\n    axios\n      .get('https://restcountries.com/v3.1/all')\n      .then(response => {\n        console.log('promise fulfilled2' )\n        setCountries(response.data)\n      })\n  }, [])\n\n\n// useEffect(() => {\n//   const results = countries.filter(o => o.name.common.includes(inputCountries));\n//   console.log(inputCountries, results);\n//   console.log(\"test\")\n//   setCountries(results)\n//   console.log(countries)\n// }, [inputCountries]);\n\n\n\n  const add = (event) => {\n    event.preventDefault();\n\n    const newObject = {\n      name: newName,\n      number: newNumber\n    };\n\n\n     /**\n  *  post/create with axios\n  */\n\nconst addPerson = personService\n .create(newObject)\n .then(returnedPersons => {\n   setNewMessageStatus(\"Successfully added \"+ newObject.name)\n\n   setTimeout(() => {setNewMessageStatus(null)}, 5000);\n   \n   setPersons(persons.concat(returnedPersons));\n   setNewName(\"\")\n   setNewNumber(\"\")\n })\n .catch(error => {\n  setNewMessageStatus(\"Sorry Error: Your input is shorter than the minimum allowed length (5)\" )\nsetTimeout(() => {\n  setNewMessageStatus(null)\n}, 5000);\nconsole.log(error.response.data)\n \n})\n\n\n    function userExists() {\n      return persons.some(function (nameCheck) {\n        return nameCheck.name === newObject.name;\n      });\n    }\n\n    const check = userExists(newObject)\n      ? alert(\"Oops! \" + newName + \" is already decleared\")\n      : addPerson();\n\n    console.log(userExists(newObject));\n    console.log(check);\n  };\n\n\n\n\n /**\n  *  delete with axios\n  */\n\n  const del = (id) => {\n    if (window.confirm('Are you sure you want to delete?')){\n    axios.delete(\"/api/persons/\"+id)\n    .then(response => {\n      if(response.data != null){\n        console.log(\"Item deleted\")\n        setPersons(persons.filter(o => o.id !== id));\n      }\n    });\n   }\n  }\n\n\n\n  const handleChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n    \n  const handleCountries = (event) => {\n    setInputCountries(event.target.value);\n  }\n\n\n  return (\n    <div>\n    <Notification message={messageStatus} />\n   <Phonebook del={del} add={add} newName={newName} handleChange={handleChange} handleNumber={handleNumber} newNumber={newNumber} persons={persons}/>\n\n    <Country inputCountries={inputCountries} handleCountries={handleCountries} countries={countries}/>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom/client'\nimport App from './App'\n\nimport axios from 'axios'\n\naxios.get('/api/persons').then(response => {\n  const persons = response.data\n  ReactDOM.createRoot(document.getElementById(\"root\")).render(\n    <App persons={persons} />\n  )\n});"],"sourceRoot":""}